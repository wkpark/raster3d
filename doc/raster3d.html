<html>
<head>
<title> Raster3D package for photorealistic molecular graphics </title>
</head>
<body>
<hr>
<h1 align=center>Raster3D</h1>
<img src="r3d_icon.gif" alt="" align=left hspace=10>
The Raster3D molecular graphics package consists of a core program 
<a href="render.html">render</a> 
and a number of ancillary programs
which produce input files
for rendering from Brookhaven PDB files of atomic coordinates. Raster3D can
also render images composed using version 1.4 of 
<a href="#refs">Molscript</a>
<p>

    <ul>
    <li><a href="#general">Synopsis</a>
    <li><a href="#examples">Brief examples of use</a>
    <li><a href="http://www.bmsc.washington.edu/raster3d/r3d_FAQ.html">FAQ
	(Frequently Asked Questions)</a>
    <li><a href="#hints">Suggestions for better pictures</a>
    <li>Individual programs in the Raster3D package
	<ul>
	<li><a href="avs2ps.html">avs2ps</a>
	<li><a href="balls.html">balls</a>
	<li><a href="normal3d.html">normal3d</a>
	<li><a href="render.html">render</a> 
	<li><a href="ribbon.html">ribbon</a>
	<li><a href="rods.html">rods</a>
	<li><a href="stereo3d.html">stereo3d</a>
	</ul>
    <li><a href="#source">Distribution site</a>
    <li><a href="#related">Related programs</a>
    <li><a href="#authors">Authors</a>
    <li><a href="#cite">Citing the program</a>
    <li><a href="#refs">References</a>
    </ul>
<hr>

<h4><a name="general">SYNOPSIS</a></h4>
Raster3D uses a fast Z-buffer algorithm to produce high quality pixel images
featuring two light sources, specular highlighting, Phong shaded surfaces, and
shadowing. Output is in the form of a pixel image with 24 bits of color
information per pixel.<p>
Raster3D does not depend on graphics hardware for operation. Four image output
formats are supported: AVS, TIFF, SGI libimage, and a private format which is
backwards-compatible with earlier versions of Raster3D. To actually view or
manipulate the images produced, you must also have installed an image viewing
package (e.g. John Cristy's ImageMagick or the SGI libimage utilities).<p>

Ancillary programs are provided for the generation of object
descriptions based on atomic coordinates stored in Brookhaven PDB format.
Although the rendering program is not specific to molecular graphics, Raster3D
is not intended as a general purpose ray-tracing program. 
Some of the algorithms used have been chosen for speed rather than generality;
that is, they happen to work well for the types of images the program is 
intended for, but may produce odd results if used for very different types of
image.
<p>

Raster3D currently supports rendering five object types: spheres,
triangles, planes, smooth-ended cylinders, and round-ended cylinders.
<p>
Version 2.1 added support for two additional "object types" which are
really modifiers for characteristic properties of existing objects. One
of these allows specification of explicit surface normals at triangle
vertices; the other allows specification of surface reflectance
properties specific to individual objects.
<p>

Version 2.2 added support for transparent objects, including transparent
molecular surfaces.
<p>

<b>Version 2.3</b>:
The <a href="render.html"> render</a> program
now supports file indirection, additional anti-aliasing options, internal
light sources, a separate alpha blend (matte) channel in the rendered image, 
and some additional properties for special materials. 
There is now an option to specify an explicit bond radius to the 
<a href="rods.html">rods</a> program.
There is a new shell script, 
<a href="stereo3d.html">stereo3d</a>
to automatically generate a side-by-side stereo pair from a Raster3D input file.



<h4>
<a name="examples">EXAMPLES</a></h4>
Using only programs included in the Raster3D distribution one can create and
render space-filling models, ball-and-stick models, ribbon models, and figures
composed of any combination of these. The following set of commands would
produce a composite figure of an Fe-containing metalloprotein with a smoothly
shaded ribbon representation of the protein and spheres drawn for the Fe atoms: 

<listing>
# 
# Draw smooth ribbon with default color scheme 2, 
# save description (with header records) in ribbon.r3d 
# 
cat protein.pdb | ribbon -d2 &gt; ribbon.r3d
# 
# Extract Fe atoms only, and draw as spheres. 
# Color info is taken from colorfile. 
# Save description (with no header records) in irons.r3d 
# 
grep ``FE'' protein.pdb | cat colorfile - | balls -h &gt; irons.r3d 
# 
# combine the two descriptions and render as AVS image file 
# 
cat ribbon.r3d irons.r3d | render &gt; picture.x
</listing>
One
can alternatively use Molscript Version 1.4 to produce a Raster3D input file by
using the -r switch. Raster3D is not able, however, to render any labels
specified by the Molscript input. Integrated use of
Molscript/Raster3D/ImageMagick allows one to describe, render, and view 3D
representations of existing Molscript figures. 

<listing>
molscript -r infile.dat | render | display avs:-
</listing>
A
similar example using xv as an image viewer, and assuming that TIFF support has
been built into the render program:

<listing>
molscript -r infile.dat | render -tiff image.tif 
xv image.tif
</listing>
The
Raster3D distribution also includes a filter utility which will convert the
24-bit color output stream from render into a dithered black &amp; white
PostScript image:

<listing>
render &lt; description.r3d | avs2ps &gt; picture.ps

</listing>
<h4>
<a name="hints">SUGGESTIONS FOR BETTER PICTURES</a></h4>

Topics covered:
<ul>
    <li><a href="r3d_hints.html#shadowing">
	Shadowing</a>
    <li><a href="r3d_hints.html#output device">
	Tailoring your image to the output device</a>
    <li><a href="r3d_hints.html#stereo1">
	Side-by-side figures and stereo pairs</a>
    <li><a href="r3d_hints.html#stereo2">
	Stereo pairs and Molscript</a>
    <li><a href="r3d_hints.html#colours">
	Creating your own colour descriptions</a>
    <li><a href="r3d_hints.html#composing">
	Composing figures in other programs</a>
    <li><a href="r3d_hints.html#matrix">
	Building up a figure from Molscript and other files</a>
    <li><a href="r3d_hints.html#labels">
	How can I keep the Molscript labels in my Raster3D picture?</a>
    <li><a href="r3d_hints.html#black-white">
	Black &amp White figures</a>
    <li><a href="r3d_transparent.html">
	Transparent surfaces</a>
</ul>

<h4><a name="source">SOURCE</a></h4>
<dl>
<dt><i>anonymous ftp site:	</i>
<dd>ftp.bmsc.washington.edu /pub/raster3d/
<dt><i>via WWW: </i>
<dd><a href="http://www.bmsc.washington.edu/raster3d/raster3d.html">
http://www.bmsc.washington.edu/raster3d/raster3d.html</a>
<dt><i>contact: 	</i>
<dd>Ethan A Merritt
<br>Dept of Biological Structure
<br>University of Washington,
<br>Seattle WA 98195-7742
<br>merritt@u.washington.edu</dl>

<h4><a name="related">RELATED PROGRAMS </a></h4>

<h5>Required for full installation:</h5>
<dl>
    <dt>TIFF
    <dd>In order to build in support for the direct output of TIFF image files,
	you must separately obtain and install a copy of the TIFF library 
	(libtiff.a).  Several implementations are available, including one by 
	Sam Leffler which may be obtained via anonymous ftp from 
	<a href="ftp://ftp.sgi.com"> sgi.com</a>.
    <dt>ImageMagick
    <dd>In order to view the rendered images on a workstation screen you must 
	also obtain and install an image viewer. 
	Two commonly available viewers are John Christy's 
	<a href="http://www.wizards.dupont.com/cristy/ImageMagick.html">
	ImageMagick</a> 
	(also available via anonymous ftp from 
	<a href="ftp://ftp.x.org"> 
	ftp.x.org </a>) 
	and John Bradley's xv.<p>
</dl>

<h5>Some other programs with direct Raster3D output modes:</h5>
<dl>
    <dt>Molscript
    <dd>Figures composed in Molscript can be rendered in Raster3D rather than
	being printed as PostScript images.  The features of Raster3D version
	2.0 are supported by Moslcript version 1.4 (with a couple of additional
	patches that come in the Raster3D distribution).  To obtain Molscript
	please contact Per Kraulis directly (Email:
	<a href="mailto:per.kraulis@sto.pharmacia.se">
	per.kraulis@sto.pharmacia.se</a>).
    <dt>TkRaster3D
    <dd> an X11-based front-end (GUI) for the Raster3D programs developed by 
	Hillary Gilson at NIST, 
	<a href="http://www.carb.nist.gov/TkRaster3D">
	http://www.carb.nist.gov/TkRaster3D</a>
    <dt>VMD
    <dd>Biomolecular visualization tool from the Theoretical Biophysics group 
	at the University of Illinois, 
	<a href="http://www.ks.uiuc.edu/Research/vmd/">
	http://www.ks.uiuc.edu/Research/vmd/</a>
    <dt>Xfit/XtalView
    <dd> General crystallographic model building, map fitting, and 
	analysis program by Duncan McRee, available in both academic and 
	commercial versions, 
	<a href="http://www.scripps.edu/pub/dem-web/index.html">
	http://www.scripps.edu/pub/dem-web/index.html</a>
</dl>

The avs2ps utility for direct production of black &amp; white PostScript images
is now included in the Raster3D distribution. It replaces earlier
machine-dependent programs in the viewtools kit.<p>

Several auxiliary programs are available from the ftp site above which may be
useful, though they have not been kept up to date with the current Raster3D
version. These include two attempts to aid in the composition of Raster3D
images (atoms, preras3d) and tools for conversion to half-toned monochrome
images and annotation and display of the images (viewtools). Most of the code
was written specifically for SGI workstations, and may not transport well to
other platforms.<p>

<h4>
<a name="authors">AUTHORS </a></h4>
Originally written by David J. Bacon and Wayne F. Anderson. Ancillary programs
by Mark Israel, Stephen Samuel, Michael Murphy, Albert Berghuis, and Ethan A
Merritt. Extensions, revisions, and modifications by Ethan A Merritt.

<h4><a name="cite">CITING THE PROGRAM</a></h4>
If you use the package to prepare figures for
publication, please give proper credit to the authors: (Bacon and Anderson,
1988; Merritt and Murphy, 1994).

<h4><a name="refs">REFERENCES</a></h4>
Bacon, D.J., &amp; Anderson, W.F. (1988) ``A Fast Algorithm for Rendering
Space-Filling Molecule Pictures''. (abstract of paper presented at the Seventh
Annual Meeting of the Molecular Graphics Society). J. Molec. Graphics 6,
219-220. <p>
Kraulis, P.J. (1991) ``MOLSCRIPT: a program to produce both detailed and
schematic plots of protein structures''. J. Appl. Cryst. 24, 946-950.<p>
Merritt, E.A. &amp; Murphy, M.E.P. (1994) ``Raster3D Version 2.0 - A Program
for Photorealistic Molecular Graphics''. Acta Cryst. D50, 869-873.<p>
Merritt, E.A. &amp; Bacon, D.J. (in press) ``Raster3D 
Photorealistic Molecular Graphics''. Methods in Enzymology 277.<p>

<hr>
<a href="raster3d.html">
<img src="/images/index_button.gif" align=top> Back to top </a>
<a href="http://www.bmsc.washington.edu/raster3d/raster3d.html">
<img src="r3d_icon.gif" alt="" align=top> Raster3D homepage </a>

</body></html>
