<html>
<head>
<title> rods - Raster3D package </title>
</head>
<body>

<h1 align=center>
<a name="RTFToC25">RODS</a></h1>
SYNOPSIS<p>
rods is a preprocessor for ball-and-stick figures in the 
<a href="raster3d.html">Raster3D</a> molecular graphics package.<p>

<listing>
rods [-h] [-b]
</listing>
rods
reads a file describing atom colours and/or a Brookhaven PDB coordinate file
and produces on stdout a file containing Raster3D descriptor records. The file
produced by rods may be fed directly to render or it may be combined with
descriptor files produced by other Raster3D utilities.
<h4>
<a name="RTFToC26">EXAMPLES</a></h4>
To describe a simple bonds-only model coloured by residue type:

<listing>
cat mycolours.pdb protein.pdb | rods | render &gt; mypicture.avs
</listing>
To
render the same molecule as ball-and-stick:

<listing>
cat mycolours.pdb protein.pdb | rods -b | render &gt; mypicture.avs
</listing>
<dl>
<dt><b><i>OPTIONS</i></b></dl><dl>
<dt><i>-h</i><dd>Suppress header records in output. By default rods will
produce an output file which starts with header records containing a default
set of scaling and processing options. The -h flag will suppress these header
records so that the output file contains only object descriptors. This option
is useful for producing files which describe only part of a scene, and which
are to be later combined with descriptor files produced by other programs.
<dt><i>-b</i><dd>By default rods will describe bonds only; the -b flag will
cause it to include spheres at the atom positions also, yielding a
ball-and-stick representation.</dl><h4>
<a name="RTFToC27">DESCRIPTION</a></h4>
The input to rods consists of a single text file containing colour information
and atomic coordinates in Brookhaven PDB data bank format. Coordinates are
output as Raster3D descriptor records with colours and sphere radii assigned
according to the COLO records described below. Ball-and-stick figures have
atoms drawn at 0.2 * Van der Waals radius, connected by rods with 0.2 &Aring;
cylindrical radius. Atoms are connected if they lie closer to each other than
0.6 * the sum of their Van der Waals radii. <p>
By default the output file contains a set of header records as required by the
render program. The header is constructed to include a TMAT matrix
corresponding to the transformation matrix contained in file setup.matrix (if
it exists), or to the Eulerian angles contained in file setup.angles (if it
exists). Header records may be suppressed using the -h option.<p>
Colours are assigned to atoms using a matching process, using COLOUR records
prepended to the input PDB file. Raster3D uses a pseudo-PDB record type with
the same basic layout as the above but with COLO in the first 4 columns:
<dl>
<dt><b><i></i></b><dd>Columns		Contents
<br> 1 - 4 		COLO
<br> 7 - 30 		Mask (described below)
<br> 31 - 38 		Red component
<br> 39 - 46 		Green component
<br> 47 - 54 		Blue component
<br> 55 - 60 		van der Waals radius in Angstroms
<br> 61 - 80 		Comments</dl>Note that the Red, Green, and Blue components are
in the same positions as the X, Y, and Z components of an ATOM or HETA record,
and the van der Waals radius goes in place of the Occupancy. The Red, Green,
and Blue components must all be in the range 0 to 1.<p>
The Mask field is used in the matching process as follows. First the program
reads in and stores all the ATOM, HETA, and COLO records in input order. Then
it goes through each stored ATOM/HETA record in turn, and searches for a COLO
record that matches the ATOM/HETA record in all of columns 7 through 30. The
first such COLO record to be found determines the colour and radius of the
atom.<p>
In order that one COLO record can provide colour and radius specifications for
more than one atom (e.g., based on residue or atom type, or any other criterion
for which labels can be given somewhere in columns 7 through 30), the # symbol
is treated as a wildcard. I.e., a # in a COLO record matches any character
found in the corresponding column in an ATOM or HETA record. All other
characters must match exactly. Note that the very last COLO record in the input
should have # symbols in all of columns 7 through 30 in order to provide a
colour for any atom whose ATOM/HETA record fails to match any previous COLO
record. This idea of matching masks for colour specifications is due to Colin
Broughton.
<h4>
<a name="RTFToC28">ENVIRONMENT</a></h4>
The files setup.matrix and setup.angles, if they exist, affect the header
records produced by rods.
<h4> AUTHORS </h4>
Ethan A Merritt

<hr>
<a href="raster3d.html">
<img src="/images/index_button.gif" align=top> Back to top </a>
<a href="http://www.bmsc.washington.edu/raster3d/raster3d.html">
<img src="r3d_icon.gif" alt="" align=top> Raster3D homepage </a>

</body>
</html>
